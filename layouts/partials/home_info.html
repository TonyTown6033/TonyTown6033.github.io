{{- $hero := site.Params.hero -}}
{{- with site.Params.homeInfoParams }}
<section class="hero-shell">
  <div class="spray spray-a"></div>
  <div class="spray spray-b"></div>

  <article class="hero-panel reveal delay-0">
    {{- with $hero.kicker }}
    <p class="hero-kicker">/// {{ . }}</p>
    {{- end }}

    <h1 class="hero-title" data-text="{{ .Title }}">{{ .Title | markdownify }}</h1>

    {{- with $hero.subtag }}
    <p class="hero-subtag">{{ . }}</p>
    {{- end }}

    <div class="hero-copy">
      {{ .Content | markdownify }}
    </div>

    <div class="hero-terminal reveal delay-1">
      <span class="terminal-prompt">$</span>
      <span class="terminal-cmd">{{ $hero.terminal | default "blog --mode tech+life --energy high" }}</span>
      <span class="terminal-cursor" aria-hidden="true">_</span>
    </div>

    {{- with $hero.buttons }}
    <div class="hero-actions">
      {{- range $idx, $btn := . }}
      {{- $href := $btn.url | default "/" -}}
      <a
        class="hero-btn {{ $btn.style | default "solid" }} reveal {{ printf "delay-%d" (add $idx 1) }}"
        href="{{ if hasPrefix $href "http" }}{{ $href }}{{ else }}{{ $href | relURL }}{{ end }}"
        {{ if hasPrefix $href "http" }}target="_blank" rel="noopener noreferrer"{{ end }}>
        {{ $btn.name }}
      </a>
      {{- end }}
    </div>
    {{- end }}

    {{- with $hero.tags }}
    <ul class="hero-tags">
      {{- range $idx, $tag := . }}
      <li class="reveal {{ printf "delay-%d" (add $idx 2) }}">#{{ $tag }}</li>
      {{- end }}
    </ul>
    {{- end }}

    {{- with $hero.metrics }}
    <ul class="hero-metrics">
      {{- range $idx, $metric := . }}
      <li class="metric reveal {{ printf "delay-%d" (add $idx 2) }}">
        <span class="metric-value">{{ $metric.value }}</span>
        <span class="metric-label">{{ $metric.label }}</span>
      </li>
      {{- end }}
    </ul>
    {{- end }}

    {{- if site.Params.socialIcons }}
    <div class="hero-social reveal delay-5">
      {{ partial "social_icons.html" (dict "align" "left") }}
    </div>
    {{- end }}
  </article>

  {{- with $hero.cards }}
  <div class="hero-grid">
    {{- range $idx, $card := . }}
    <article class="spot-card reveal {{ printf "delay-%d" (add $idx 3) }}">
      <span class="spot-index">0{{ add $idx 1 }}</span>
      <h3>{{ $card.title }}</h3>
      <p>{{ $card.text }}</p>
    </article>
    {{- end }}
  </div>
  {{- end }}
</section>
{{- end -}}
